<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LoFi Focus</title>
<style>
  body, html {
    margin: 0;
    padding: 0;
    overflow: hidden;
    height: 100%;
    font-family: Arial, sans-serif;
    color: white;
    background: black;
  }
  video {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    z-index: -1;
  }
  .controls {
    position: fixed;
    bottom: 20px;
    left: 20px;
    display: flex;
    gap: 10px;
    align-items: center;
    background: rgba(0, 0, 0, 0.4);
    padding: 10px 15px;
    border-radius: 8px;
  }
  .controls button, .controls input[type=range] {
    cursor: pointer;
  }
  #timer {
    font-size: 18px;
    font-weight: bold;
  }
</style>
</head>
<body>

<video autoplay muted loop id="bgVideo">
  <source src="background.mp4" type="video/mp4">
</video>

<div class="controls">
  <button id="muteBtn">üîä</button>
  <input type="range" id="volumeSlider" min="0" max="1" step="0.01" value="1">
  <button id="startPomodoro">‚è± 25 –º–∏–Ω</button>
  <span id="timer">25:00</span>
</div>

<audio id="bgAudio" autoplay loop>
  <source src="https://listen.myrh.ru/id646" type="audio/mpeg">
</audio>

<script>
  const audio = document.getElementById('bgAudio');
  const muteBtn = document.getElementById('muteBtn');
  const volumeSlider = document.getElementById('volumeSlider');
  const timerDisplay = document.getElementById('timer');
  const startPomodoro = document.getElementById('startPomodoro');

  let pomodoroTime = 25 * 60;
  let timerInterval;

  muteBtn.addEventListener('click', () => {
    audio.muted = !audio.muted;
    muteBtn.textContent = audio.muted ? 'üîá' : 'üîä';
  });

  volumeSlider.addEventListener('input', (e) => {
    audio.volume = e.target.value;
  });

  startPomodoro.addEventListener('click', () => {
    clearInterval(timerInterval);
    pomodoroTime = 25 * 60;
    timerInterval = setInterval(() => {
      if (pomodoroTime > 0) {
        pomodoroTime--;
        let minutes = Math.floor(pomodoroTime / 60);
        let seconds = pomodoroTime % 60;
        timerDisplay.textContent = 
          `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
      } else {
        clearInterval(timerInterval);
        timerDisplay.textContent = "–í—Ä–µ–º—è!";
      }
    }, 1000);
  });
</script>

</body>
</html>
